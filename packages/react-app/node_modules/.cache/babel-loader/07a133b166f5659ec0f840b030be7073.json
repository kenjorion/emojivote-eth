{"ast":null,"code":"var _jsxFileName = \"/Users/ken/Documents/scaffold-eth/packages/react-app/src/VoteReport.js\";\nimport React, { useEffect, useState } from 'react';\nimport { ethers } from \"ethers\";\nimport { useTimestamp } from \"./hooks\";\nimport { Card } from 'antd'; //import * as loadedVotes from \"./validVotes.json\"\n\nexport default function TimeReport(props) {\n  const [votes, setVotes] = useState([]);\n  const [results, setResults] = useState([]);\n\n  const loadedVotes = require(\"./validVotes.json\");\n\n  useEffect(() => {\n    try {\n      //let loadedVotes = require(\"./validVotes.json\")\n      setVotes(loadedVotes);\n      let newResults = {};\n\n      for (let v in loadedVotes) {\n        console.log(v);\n\n        if (newResults[loadedVotes[v].vote]) {\n          newResults[loadedVotes[v].vote] = newResults[loadedVotes[v].vote].add(loadedVotes[v].balance);\n        } else {\n          newResults[loadedVotes[v].vote] = ethers.utils.bigNumberify(loadedVotes[v].balance);\n        }\n      }\n\n      console.log(\"XXXX\", newResults);\n      setResults(newResults);\n    } catch (e) {\n      console.log(\"ERR\", e);\n    }\n  }, []);\n  let displayVotes = [];\n  let winner;\n  let test = JSON.stringify(loadedVotes);\n  test = JSON.parse(test);\n  const voteArray = Object.values(test);\n  let compteur = 0;\n\n  for (let r in results) {\n    console.log(test);\n    let address = voteArray[compteur].address;\n    let floatValue = parseFloat(results[r]);\n\n    if (typeof winner == \"undefined\" || winner.floatValue < floatValue) {\n      winner = {\n        vote: r,\n        floatValue: floatValue\n      };\n    }\n\n    displayVotes.push( /*#__PURE__*/React.createElement(\"div\", {\n      key: `vote${r}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, address), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, \" avec \\uD83D\\uDCB8 wallet : \", floatValue.toFixed(2), \" votes for \", r)));\n    compteur++;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, \"\\uD83D\\uDCD1  Votes: ( \", winner ? winner.vote + \" is winning\" : \"\", \" )\"),\n    size: \"large\",\n    style: {\n      width: 550,\n      marginTop: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, displayVotes));\n}","map":{"version":3,"sources":["/Users/ken/Documents/scaffold-eth/packages/react-app/src/VoteReport.js"],"names":["React","useEffect","useState","ethers","useTimestamp","Card","TimeReport","props","votes","setVotes","results","setResults","loadedVotes","require","newResults","v","console","log","vote","add","balance","utils","bigNumberify","e","displayVotes","winner","test","JSON","stringify","parse","voteArray","Object","values","compteur","r","address","floatValue","parseFloat","push","toFixed","width","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { ethers } from \"ethers\";\nimport { useTimestamp } from \"./hooks\"\nimport { Card } from 'antd';\n//import * as loadedVotes from \"./validVotes.json\"\n\nexport default function TimeReport(props) {\n\n  const [votes, setVotes] = useState([])\n  const [results, setResults] = useState([])\n  const loadedVotes = require(\"./validVotes.json\")\n\n  useEffect(()=>{\n    try{\n      //let loadedVotes = require(\"./validVotes.json\")\n      setVotes(loadedVotes)\n      let newResults = {}\n      for(let v in loadedVotes){\n        console.log(v);\n        if(newResults[loadedVotes[v].vote]){\n          newResults[loadedVotes[v].vote] = newResults[loadedVotes[v].vote].add(loadedVotes[v].balance)\n        }else{\n          newResults[loadedVotes[v].vote] = ethers.utils.bigNumberify(loadedVotes[v].balance)\n        }\n      }\n      console.log(\"XXXX\", newResults);\n      setResults(newResults)\n    }catch(e){console.log(\"ERR\",e)}\n  },[])\n\n  let displayVotes = []\n  let winner\n  let test = JSON.stringify(loadedVotes);\n  test = JSON.parse(test);\n  \n  const voteArray = Object.values(test);\n  let compteur = 0;\n\n    for(let r in results){\n      console.log(test);\n      let address = voteArray[compteur].address;\n      let floatValue = parseFloat(results[r]);\n      if( typeof winner == \"undefined\" || winner.floatValue < floatValue){\n        winner = {\n          vote:r,\n          floatValue:floatValue,\n        }\n      }\n      displayVotes.push(\n        <div key={`vote${ r }`}>\n          <b>{ address }</b> \n          <span> avec ðŸ’¸ wallet : { floatValue.toFixed(2) } votes for { r }</span>\n        </div>\n      )\n      compteur++;\n    }\n\n  return (\n    <div>\n      <Card\n        title={(\n          <div>\n            ðŸ“‘  Votes: ( {winner?winner.vote+\" is winning\":\"\"} )\n          </div>\n        )}\n        size=\"large\"\n        style={{ width: 550, marginTop: 25 }}\n        >\n          {displayVotes}\n      </Card>\n    </div>\n  );\n\n}\n"]},"metadata":{},"sourceType":"module"}