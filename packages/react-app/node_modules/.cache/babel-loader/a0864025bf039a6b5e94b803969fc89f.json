{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ken/Documents/scaffold-eth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ken/Documents/scaffold-eth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ken/Documents/scaffold-eth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import usePoller from\"./Poller.js\";import useBlockNumber from\"./BlockNumber.js\";export default function useTimestamp(provider,pollTime){var blockNumber=useBlockNumber(provider,pollTime);var _useState=useState(),_useState2=_slicedToArray(_useState,2),timestamp=_useState2[0],setTimestamp=_useState2[1];useEffect(function(){if(typeof provider!==\"undefined\"){var getTimestamp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var nextBlock,nextTimestamp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return provider.getBlock(blockNumber);case 2:nextBlock=_context.sent;if(typeof nextBlock!==\"undefined\"&&nextBlock&&nextBlock.timestamp){nextTimestamp=nextBlock.timestamp;if(nextTimestamp!==timestamp){setTimestamp(nextTimestamp);}}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getTimestamp(){return _ref.apply(this,arguments);};}();getTimestamp();}},[provider,blockNumber]);return timestamp;}","map":{"version":3,"sources":["/Users/ken/Documents/scaffold-eth/packages/react-app/src/hooks/Timestamp.js"],"names":["useState","useEffect","usePoller","useBlockNumber","useTimestamp","provider","pollTime","blockNumber","timestamp","setTimestamp","getTimestamp","getBlock","nextBlock","nextTimestamp"],"mappings":"qcAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,cAAe,SAASC,CAAAA,YAAT,CAAsBC,QAAtB,CAA+BC,QAA/B,CAAyC,CAEtD,GAAMC,CAAAA,WAAW,CAAGJ,cAAc,CAACE,QAAD,CAAUC,QAAV,CAAlC,CAFsD,cAIpBN,QAAQ,EAJY,wCAI/CQ,SAJ+C,eAIpCC,YAJoC,eAMtDR,SAAS,CAAC,UAAM,CACd,GAAG,MAAOI,CAAAA,QAAP,GAAoB,WAAvB,CAAmC,IAClBK,CAAAA,YADkB,0FACjC,qLACwBL,CAAAA,QAAQ,CAACM,QAAT,CAAkBJ,WAAlB,CADxB,QACMK,SADN,eAEE,GAAG,MAAOA,CAAAA,SAAP,GAAqB,WAArB,EAAoCA,SAApC,EAAiDA,SAAS,CAACJ,SAA9D,CAAwE,CAChEK,aADgE,CAChDD,SAAS,CAACJ,SADsC,CAEtE,GAAGK,aAAa,GAAGL,SAAnB,CAA6B,CAC3BC,YAAY,CAACI,aAAD,CAAZ,CACD,CACF,CAPH,sDADiC,kBAClBH,CAAAA,YADkB,2CAUjCA,YAAY,GACb,CACF,CAbQ,CAaN,CAACL,QAAD,CAAUE,WAAV,CAbM,CAAT,CAeA,MAAOC,CAAAA,SAAP,CACD","sourcesContent":["import { useState, useEffect } from 'react';\nimport usePoller from \"./Poller.js\";\nimport useBlockNumber from \"./BlockNumber.js\";\n\nexport default function useTimestamp(provider,pollTime) {\n\n  const blockNumber = useBlockNumber(provider,pollTime)\n\n  const [timestamp, setTimestamp] = useState()\n\n  useEffect(() => {\n    if(typeof provider !== \"undefined\"){\n      async function getTimestamp() {\n        let nextBlock = await provider.getBlock(blockNumber)\n        if(typeof nextBlock !== \"undefined\" && nextBlock && nextBlock.timestamp){\n          const nextTimestamp = nextBlock.timestamp\n          if(nextTimestamp!==timestamp){\n            setTimestamp(nextTimestamp)\n          }\n        }\n      }\n      getTimestamp();\n    }\n  }, [provider,blockNumber]);\n\n  return timestamp;\n}\n"]},"metadata":{},"sourceType":"module"}