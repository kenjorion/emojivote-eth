{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ken/Documents/scaffold-eth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ken/Documents/scaffold-eth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{ethers,Wallet}from\"ethers\";import{Card,Button}from'antd';var axios=require('axios');export default function SmartContractWallet(props){var voteButton=function voteButton(emoji){return/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){castVote(emoji,translateEmoji(emoji));}},emoji);};var castVote=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(emoji,emojiName){var timestamp,signer,message,result,ethers,provider,address,abi,privateKey,contract,balance,userSigner;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:timestamp=new Date();timestamp=timestamp.getTime();console.log(\"timestamp\",timestamp);console.log(\"props.injectedProvider\",props.injectedProvider);signer=props.injectedProvider.getSigner();console.log(\"props.address\",props.address);message=\"emojivote\"+emojiName+timestamp;console.log(\"message\",message);_context.next=10;return signer.signMessage(message);case 10:result=_context.sent;ethers=require('ethers');console.log(\"result\",result);//let recovered = await ethers.utils.verifyMessage ( message , result )\n//console.log(\"recovered\",recovered)\n// \n/// CHANGE THIS TO YOUR ZAP: \nethers=require('ethers');console.log(\"Etherprovider\",ethers.providers);provider=new ethers.providers.InfuraProvider(\"kovan\",\"2717afb6bf164045b5d5468031b93f87\");//var provider = new ethers.providers.Web3Provider(window.ethereum)\naddress='0x2B058af84032fE19FfFa6F5A3d35b43a5E9664e8';abi=[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_initialAmount\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_tokenName\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"_decimalUnits\",\"type\":\"uint8\"},{\"internalType\":\"string\",\"name\":\"_tokenSymbol\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"remaining\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowed\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];privateKey='0xcbd6eac40dab0d8460da5b8d02261c230a565a933616de56ff1134a19217614d';contract=new ethers.Contract(address,abi,provider);console.log(\"contract\",contract);_context.next=23;return contract.balanceOf(address);case 23:balance=_context.sent;console.log(\"Balance\",balance);//const signer = provider.getSigner();\nuserSigner=contract.connect(signer);console.log(\"add\",props.address);_context.next=29;return userSigner.mint(props.address,100);case 29:_context.next=31;return contract.balanceOf(address);case 31:balance=_context.sent;console.log(\"Balance\",balance);/// CHANGE THIS TO YOUR ZAP: \naxios.get('https://hooks.zapier.com/hooks/catch/10067684/byh04p2/?address='+props.address+'&vote='+emoji+'&timestamp='+timestamp+'&signature='+result).then(function(response){console.log(response);}).catch(function(error){console.log(error);});case 34:case\"end\":return _context.stop();}}},_callee);}));return function castVote(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Card,{title:/*#__PURE__*/React.createElement(\"div\",null,\"\\uD83D\\uDDF3  Pick Your Favorite Emoji:\"),size:\"large\",style:{width:550,marginTop:25}},voteButton(\"üêÆ\"),voteButton(\"ü¶Å\"),voteButton(\"üê≠\"),voteButton(\"ü¶ä\"),voteButton(\"üê∂\"),voteButton(\"üê∞\"),voteButton(\"üê∏\")));}var translateEmoji=function translateEmoji(emoji){if(emoji===\"ü¶Å\"){return\"LION\";}else if(emoji===\"üêÆ\"){return\"COW\";}else if(emoji===\"üê≠\"){return\"MOUSE\";}else if(emoji===\"ü¶ä\"){return\"FOX\";}else if(emoji===\"üê∂\"){return\"DOG\";}else if(emoji===\"üê∞\"){return\"RABBIT\";}else if(emoji===\"üê∏\"){return\"FROG\";}};","map":{"version":3,"sources":["/Users/ken/Documents/scaffold-eth/packages/react-app/src/Vote.js"],"names":["React","ethers","Wallet","Card","Button","axios","require","SmartContractWallet","props","voteButton","emoji","castVote","translateEmoji","emojiName","timestamp","Date","getTime","console","log","injectedProvider","signer","getSigner","address","message","signMessage","result","providers","provider","InfuraProvider","abi","privateKey","contract","Contract","balanceOf","balance","userSigner","connect","mint","get","then","response","catch","error","width","marginTop"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { ethers, Wallet } from \"ethers\";\nimport { Card, Button } from 'antd';\nconst axios = require('axios');\n\nexport default function SmartContractWallet(props) {\n\n  const voteButton = (emoji)=>{\n    return (\n      <Button onClick={()=>{\n        castVote(emoji,translateEmoji(emoji))\n      }}>{emoji}</Button>\n    )\n  }\n\n  const castVote = async (emoji,emojiName)=>{\n    let timestamp = new Date;\n    timestamp = timestamp.getTime();\n    console.log(\"timestamp\",timestamp)\n    console.log(\"props.injectedProvider\",props.injectedProvider)\n    let signer = props.injectedProvider.getSigner()\n    console.log(\"props.address\",props.address)\n    let message = \"emojivote\"+emojiName+timestamp\n    console.log(\"message\",message)\n    let result = await signer.signMessage(message)\n    var ethers = require('ethers');    \n    console.log(\"result\",result)\n    //let recovered = await ethers.utils.verifyMessage ( message , result )\n    //console.log(\"recovered\",recovered)\n\n    // \n    /// CHANGE THIS TO YOUR ZAP: \n    var ethers = require('ethers');\n    console.log(\"Etherprovider\", ethers.providers);\n    var provider = new ethers.providers.InfuraProvider(\"kovan\",\"2717afb6bf164045b5d5468031b93f87\")\n    //var provider = new ethers.providers.Web3Provider(window.ethereum)\n    \n    var address = '0x2B058af84032fE19FfFa6F5A3d35b43a5E9664e8';\n    var abi = [\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"_initialAmount\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"_tokenName\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"uint8\",\n            \"name\": \"_decimalUnits\",\n            \"type\": \"uint8\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"_tokenSymbol\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"_owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"_spender\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"_value\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n      },\n      {\n        \"anonymous\": false,\n        \"inputs\": [\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"_from\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": true,\n            \"internalType\": \"address\",\n            \"name\": \"_to\",\n            \"type\": \"address\"\n          },\n          {\n            \"indexed\": false,\n            \"internalType\": \"uint256\",\n            \"name\": \"_value\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_owner\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_spender\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"allowance\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"remaining\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"allowed\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_spender\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"_value\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"approve\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"success\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_owner\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"balanceOf\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"balance\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"\",\n            \"type\": \"address\"\n          }\n        ],\n        \"name\": \"balances\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"decimals\",\n        \"outputs\": [\n          {\n            \"internalType\": \"uint8\",\n            \"name\": \"\",\n            \"type\": \"uint8\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"_value\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"mint\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"success\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [],\n        \"name\": \"symbol\",\n        \"outputs\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"\",\n            \"type\": \"string\"\n          }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"_value\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"transfer\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"success\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      },\n      {\n        \"inputs\": [\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_from\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"address\",\n            \"name\": \"_to\",\n            \"type\": \"address\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"_value\",\n            \"type\": \"uint256\"\n          }\n        ],\n        \"name\": \"transferFrom\",\n        \"outputs\": [\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"success\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n      }\n    ];\n    var privateKey = '0xcbd6eac40dab0d8460da5b8d02261c230a565a933616de56ff1134a19217614d';\n    \n    var contract = new ethers.Contract(address,abi,provider);\n    console.log(\"contract\", contract);\n    let balance = await contract.balanceOf(address);\n    console.log(\"Balance\", balance);\n    //const signer = provider.getSigner();\n    const userSigner = contract.connect(signer);\n    console.log(\"add\", props.address)\n    await userSigner.mint(props.address, 100);\n    balance = await contract.balanceOf(address);\n    console.log(\"Balance\", balance);\n\n    /// CHANGE THIS TO YOUR ZAP: \n    axios.get('https://hooks.zapier.com/hooks/catch/10067684/byh04p2/?address='+props.address+'&vote='+emoji+'&timestamp='+timestamp+'&signature='+result)\n    .then(function (response) {\n      console.log(response);\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n\n  return (\n    <div>\n      <Card\n        title={(\n          <div>\n            üó≥  Pick Your Favorite Emoji:\n          </div>\n        )}\n        size=\"large\"\n        style={{ width: 550, marginTop: 25 }}\n        >\n          {voteButton(\"üêÆ\",)}\n          {voteButton(\"ü¶Å\")}\n          {voteButton(\"üê≠\")}\n          {voteButton(\"ü¶ä\")}\n          {voteButton(\"üê∂\")}\n          {voteButton(\"üê∞\")}\n          {voteButton(\"üê∏\")}\n      </Card>\n    </div>\n  );\n\n}\n\n\n\nconst translateEmoji = (emoji)=>{\n  if(emoji===\"ü¶Å\"){\n    return \"LION\"\n  } else if(emoji===\"üêÆ\"){\n    return \"COW\"\n  } else if(emoji===\"üê≠\"){\n    return \"MOUSE\"\n  } else if(emoji===\"ü¶ä\"){\n    return \"FOX\"\n  } else if(emoji===\"üê∂\"){\n    return \"DOG\"\n  } else if(emoji===\"üê∞\"){\n    return \"RABBIT\"\n  } else if(emoji===\"üê∏\"){\n    return \"FROG\"\n  }\n}\n"]},"metadata":{},"sourceType":"module"}